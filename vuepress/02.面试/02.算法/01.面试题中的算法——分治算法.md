---
title: 面试题中的算法——分治算法
date: 2020-05-15 18:56
permalink: /pages/1b5e71/
categories:
  - 面试
  - 算法
tags:
  - 分治算法
---

# 面试题中的算法——分治算法


飞鸟之影,未尝动也。——《庄子》

<!-- more -->

![面试问题](https://img-blog.csdnimg.cn/20200515182453885.png)

这是出自华为的面试题，这种题目倒是有点意思了，要回答这个问题，首先要明白，原文的意思。那么这句话什么意思呢？

原文出自《庄子·天下》所列“辩者二十一事”之一。景，影也。常识认为飞鸟之影随着鸟飞而动，“辩者”认为飞鸟虽动，其影则不能渭动。简单理解就是飞鸟的影子和飞鸟相对而言总是一样的，所以是没有动的。参照物的选取不同，对运动的判断也不同。引申在面试题中，体现的是**分治算法**，不同情况分开考虑。

那么分治算法又如何理解呢？结合一道出自百度的面试题来说明。

## 题目描述
>给定a、b两个文件，各存放50亿个url，每个url各占64个字节，内存限制是4GB，请找出a、b两个文件共同的url。

## 题目解析
>因为每个url 需要占64个字节，所以50亿个url 占用空间的大小为50亿×64=5GB× 64=320GB。由于内存大小只有4GB，因此不可能一次性把所有的url都加载到内存中处理。所以只能分步处理，即分治算法。所以我们必须将大文件切分成小文件，然后再对这些小文件进行处理。

## 实现思路
- 遍历文件a，对遍历到的url求hash（url）%320，根据计算结果把遍历到的url分别存储到a0、a1、a2、……、a319（计算结果为i的url存储到文件ai中），这样每个文件的大小约为1G。当某一个文件中url的大小超过2GB时，可以按照类似的思路把这个文件继续分为更小的子文件（例如，如果a1大小超过2GB，那么可以把文件继续分成a11、a12、……）。

- 使用同样的方法遍历文件b，把文件b中的url分别存储到文件b0、b1、……、b319中。

- 经过上述处理，与ai中url相同的url一定在bi中（因为对URL做了hash计算，想同的URL哈希值一样）。由于ai与bi中所有的url的大小不会超过4GB，因此可以把它们同时读入到内存中进行处理。

- 遍历文件ai，把遍历到的url存入到hash_set中，接着遍历文件bi中的url，如果这个url在hash_set中存在，那么说明这个url是这两个文件共同的url，可以把这个url保存到另外一个单独的文件中。当把文件a0～a319都遍历完成后，就找到了两个文件共同的url。

## 总结

分治算法的基本思想是将一个规模为N的问题分解为K个规模较小的子问题，这些子问题相互独立且与原问题性质相同。求出子问题的解，就可得到原问题的解。即一种分目标完成程序算法，简单问题可用二分法完成。

大数据中的MapReduce、并流行计算、二分查找等等，都能体现分治算法的思想。


<Vssue  />