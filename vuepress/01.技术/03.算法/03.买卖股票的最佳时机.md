---
title: 买卖股票的最佳时机
date: 2020-08-14 17:09
permalink: /pages/6a2a62/
categories:
  - 技术
  - 算法
tags:
  - 算法
---


## 题设
给定一个数组，它的第 i 个元素是一支给定股票第 i 天的价格。
设计一个算法来计算你所能获取的最大利润。你可以尽可能地完成更多的交易（多次买卖一支股票）。

## 示例
- 输入: [7,1,5,3,6,4]
- 输出: 7

## 解析
在第 2 天（股票价格 = 1）的时候买入
在第 3 天（股票价格 = 5）的时候卖出, 这笔交易所能获得利润 = 5-1 = 4 。
在第 4 天（股票价格 = 3）的时候买入，
在第 5 天（股票价格 = 6）的时候卖出, 这笔交易所能获得利润 = 6-3 = 3 。

为了进一步更直观的加深理解，假设输入[7,1,5,8,5,3,6,4]：
在第 2 天（股票价格 = 1）的时候买入
在第 3 天（股票价格 = 5）的时候卖出, 这笔交易所能获得利润 = 5-1 = 4 。
在第 3 天（股票价格 = 5）的时候买入
在第 4 天（股票价格 = 8）的时候卖出, 这笔交易所能获得利润 = 8-5 = 3 。
在第 6 天（股票价格 = 3）的时候买入，
在第 7 天（股票价格 = 6）的时候卖出, 这笔交易所能获得利润 = 6-3 = 3 。

每次交易结余之和，就是总收益。代码实现的话，则**只要第i+1天的股价大于第i天，则在第i天买入，第i+1天卖出**即可；

```java
    public static int maxProfit(int[] prices) {
        int i = 0;
        int amount = 0;
        for (int j = i + 1; j < prices.length; j++) {
           
            if (prices[i] < prices[j]) {
                amount += prices[j] - prices[i];
            }
            i = j;
        }
        return amount;
    }
```



