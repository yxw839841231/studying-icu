---
title: Java锁之乐观锁
date: 2021-01-13 16:27:02
permalink: /pages/f22fec/
categories:
tags:
  - 锁
---

# Java锁之乐观锁


乐观锁是一种乐观思想，即认为读多写少，遇到并发写的可能性低，每次去拿数据的时候都认为
别人不会修改，所以不会上锁，但是在更新的时候会判断一下在此期间别人有没有去更新这个数
据，采取在写时先读出当前版本号，然后加锁操作（比较跟上一次的版本号，如果一样则更新），
如果失败则要重复读-比较-写的操作。

Java 中的乐观锁基本都是通过 CAS（Compare And Swap，比较交换） 操作实现的，CAS 是一种更新的 **原子操作**，比较当前值(版本标识)跟传入
值(版本标识)是否一样，一样则更新，否则失败，放弃更新。

<Vssue  />